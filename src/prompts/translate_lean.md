Translate the Python function into Lean 4.

Rules:
1. Preserve function semantics.
2. Encode provided obligations as theorem goals.
3. Keep assumptions explicit as hypotheses.
4. Return Lean code only.

